{
  "name": "OwnCourses server",
  "description": "API (and admin) server for OwnCourses platform",
  "repository": "https://github.com/owncourses/courses-server",
  "logo": "https://i.ibb.co/YQ52bDY/logo.png",
  "keywords": ["online courses", "e-learning", "open source platform"],
  "addons": [
    {
      "plan": "heroku-postgresql",
      "options": {
        "version": "10"
      }
    }
  ],
  "success_url": "/admin",
  "image": "heroku/php",
  "env": {
    "APP_SECRET": {
      "description": "A secret key for verifying the integrity of data.",
      "generator": "secret"
    },
    "MAILER_URL": {
      "description": "Url for mailer connection."
    },
    "JWT_PASSPHRASE": {
      "description": "Pasphrase used for signing JWT tokens."
    },
    "SECURITY_SECRET": {
      "description": "A secret key used for signing request coming from 3d party apps."
    },
    "AWS_S3_KEY": {
      "description": "AWS S3 key used for assets storage."
    },
    "AWS_S3_SECRET": {
      "description": "AWS S3 secret used for assets storage."
    },
    "AWS_S3_BUCKET": {
      "description": "AWS S3 bucket name used for assets storage."
    },
    "AWS_S3_REGION": {
      "description": "WS S3 region code used for assets storage."
    }
  },
  "scripts": {
    "postdeploy": "php bin/console app:user:create test@example.com testPassword Test User && php bin/console app:user:promote test@example.com ROLE_ADMIN && openssl genrsa -passout env:JWT_PASSPHRASE -out config/jwt/private.pem -aes256 4096 && openssl rsa -pubout -passin env:JWT_PASSPHRASE -in config/jwt/private.pem -out config/jwt/public.pem"
  }
}
